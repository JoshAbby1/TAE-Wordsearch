<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Search Game</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #888;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
  }

  /* yellow paint splatter */
  body::before, body::after {
    content: "";
    position: absolute;
    width: 450px;
    height: 450px;
    background: radial-gradient(circle, rgba(255,255,0,0.6) 0%, rgba(255,255,0,0) 70%);
    z-index: -1;
    filter: blur(10px);
  }

  body::before { top: 5%; left: 8%; }
  body::after { bottom: 8%; right: 10%; }

  #game {
    background: rgba(255,255,255,0.25);
    padding: 20px 35px;
    border-radius: 14px;
    backdrop-filter: blur(6px);
    text-align: center;
  }

  h1 { margin: 0 0 10px; }

  #grid {
    display: grid;
    margin: 25px auto;
    gap: 4px;
  }

  /* bigger cells */
  .cell {
    width: 40px;
    height: 40px;
    background: white;
    border: 1px solid #bbb;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
  }

  .selected { background: #ffe45e; }
  .found { background: #79ff79 !important; }

  #words { margin-top: 10px; }
  .word { font-size: 19px; margin: 5px 0; }
  .found-word { text-decoration: line-through; color: green; }

  #message {
    font-size: 20px;
    font-weight: bold;
    margin-top: 15px;
  }
</style>
</head>

<body>

<div id="game">
  <h1>Word Search</h1>
  <div id="words"></div>
  <div id="grid"></div>
  <div id="message"></div>
</div>

<script>
// --------------------------------------
// LEVELS â†’ each new level = longer words
// --------------------------------------
let level = 1;

const wordLevels = {
  1: ["DOG", "CAT", "HAT", "CAR", "SUN"],
  2: ["BONES", "STORM", "CLOUD", "SPACE", "STONE"],
  3: ["PLANET", "ROCKET", "PUZZLE", "DRIVER", "MARKET"],
  4: ["GALAXY", "WEATHER", "JOURNEY", "REACTOR", "FUSION"],
  5: ["ASTEROID", "HORIZON", "SOFTWARE", "MOUNTAIN", "LANGUAGE"]
};

let gridSize = 12;              // bigger grid
let grid = [];
let selectedCells = [];
let currentWords = [];
let foundWords = [];

// --------------------------------------
// CREATE NEW PUZZLE
// --------------------------------------
function newPuzzle() {
  document.getElementById("message").innerHTML = "";
  document.getElementById("grid").innerHTML = "";
  document.getElementById("words").innerHTML = "";

  // pick words for the level
  const maxLevel = Math.max(...Object.keys(wordLevels));
  currentWords = wordLevels[Math.min(level, maxLevel)];
  foundWords = [];

  // show words
  currentWords.forEach(w => {
    let div = document.createElement("div");
    div.className = "word";
    div.id = "word-" + w;
    div.innerText = w;
    document.getElementById("words").appendChild(div);
  });

  // create blank grid
  grid = Array(gridSize).fill().map(() => Array(gridSize).fill(""));

  // place all words
  currentWords.forEach(word => placeWord(word));

  // fill empty spots
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      if (grid[r][c] === "") {
        grid[r][c] = letters[Math.floor(Math.random() * letters.length)];
      }
    }
  }

  renderGrid();
}

// --------------------------------------
// PLACE SINGLE WORD ON GRID
// --------------------------------------
function placeWord(word) {
  const dirs = [
    {r:0, c:1},  // right
    {r:1, c:0},  // down
    {r:1, c:1},  // diagonal
    {r:-1, c:1}  // reverse diagonal
  ];

  while (true) {
    let row = Math.floor(Math.random() * gridSize);
    let col = Math.floor(Math.random() * gridSize);
    let dir = dirs[Math.floor(Math.random() * dirs.length)];

    let r = row, c = col;
    let fits = true;

    for (let i = 0; i < word.length; i++) {
      if (r < 0 || r >= gridSize || c < 0 || c >= gridSize) { fits = false; break; }
      if (grid[r][c] && grid[r][c] !== word[i]) { fits = false; break; }
      r += dir.r; c += dir.c;
    }

    if (!fits) continue;

    r = row; c = col;
    for (let i = 0; i < word.length; i++) {
      grid[r][c] = word[i];
      r += dir.r; c += dir.c;
    }
    break;
  }
}

// --------------------------------------
// DISPLAY THE GRID
// --------------------------------------
function renderGrid() {
  const board = document.getElementById("grid");
  board.style.gridTemplateColumns = `repeat(${gridSize}, 40px)`; // bigger

  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      let cell = document.createElement("div");
      cell.className = "cell";
      cell.textContent = grid[r][c];

      cell.dataset.row = r;
      cell.dataset.col = c;

      cell.addEventListener("click", () => selectCell(cell));
      board.appendChild(cell);
    }
  }
}

// --------------------------------------
// WHEN USER TAPS A CELL
// --------------------------------------
function selectCell(cell) {
  if (cell.classList.contains("found")) return;

  cell.classList.toggle("selected");
  selectedCells = [...document.querySelectorAll(".selected")];

  let word = selectedCells.map(c => c.textContent).join("");

  if (currentWords.includes(word)) {
    selectedCells.forEach(c => {
      c.classList.remove("selected");
      c.classList.add("found");
    });

    document.getElementById("word-" + word).classList.add("found-word");
    foundWords.push(word);

    // all words found
    if (foundWords.length === currentWords.length) {
      document.getElementById("message").innerText = "ðŸŽ‰ Level Completed!";
      
      level++; // harder words next time

      setTimeout(newPuzzle, 1800);
    }
  }
}

// start game
newPuzzle();
</script>

</body>
</html>