<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {margin:0;padding:0;font-family:Arial,sans-serif;background:#777;position:relative;height:100vh;overflow-x:hidden;}
body::before {
    content:"";
    position:absolute;
    inset:0;
    background-image:
        radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%),
        radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%),
        radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%);
    background-size: 400px 400px, 300px 300px, 350px 350px;
    background-position: 10% 20%, 70% 60%, 40% 85%;
    background-repeat: no-repeat;
    z-index:-1;
}
h1 {text-align:center;margin-top:20px;font-size:32px;color:white;text-shadow:1px 1px 2px black;}
.sub {text-align:center;margin-top:-8px;font-size:14px;color:white;opacity:.8;}
#wordsList {text-align:center;font-size:20px;margin:20px 0;color:white;font-weight:bold;}
#gameContainer {display:flex;justify-content:center;width:100%;}
#grid {display:grid;grid-template-columns:repeat(14,32px);grid-template-rows:repeat(14,32px);gap:2px;background:white;padding:10px;border-radius:10px;box-shadow:0 0 10px black;}
.cell {width:32px;height:32px;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:20px;background:#eee;border-radius:4px;user-select:none;cursor:pointer;}
.highlight {background:yellow;color:black;}
.found {background:lime;color:black;}
</style>
</head>
<body>

<h1>WORD SEARCH</h1>
<p class="sub">made by @nortydigitalcrew</p>
<div id="wordsList"></div>
<div id="gameContainer"><div id="grid"></div></div>

<script>
const gridSize=14;
let level=1;
let usedWords=[];
let currentWords=[];
let foundWords=[];
let selectedCells=[];
let grid=Array.from({length:gridSize},()=>Array(gridSize).fill(""));

const gridElement=document.getElementById("grid");
const wordsListElement=document.getElementById("wordsList");

// MASTER WORD POOL
const masterWords=[
"DOG","SUN","CAR","HAT","TREE","BOOK","MOON","STAR","FROG","HILL",
"PHONE","BRICK","CHAIR","SPOON","BREAD","WATER","MONEY","STONE",
"FLOWER","PLANET","ROCKET","PUZZLE","JUNGLE","MONKEY","DINOSAUR","NOTEBOOK",
"SANDWICH","BACKPACK","PLAYGROUND","AEROPLANE","WATERMELON","CELEBRATION",
"TELEPHONE","COMPUTER","KEYBOARD","MOUNTAIN","ELEPHANT","KANGAROO","TELESCOPE"
];

function randomLetter(){return "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)];}
function shuffle(arr){for(let i=arr.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}}

function generateLevelWords(){
    foundWords=[];
    const minLength=Math.min(1+level*2,12);
    const maxLength=Math.min(1+level*3,12);
    const wordCount=Math.min(4+level,10);
    let available=masterWords.filter(w=>!usedWords.includes(w)&&w.length>=minLength&&w.length<=maxLength);
    shuffle(available);
    currentWords=available.slice(0,wordCount);
    usedWords.push(...currentWords);
}

function clearGrid(){for(let r=0;r<gridSize;r++)for(let c=0;c<gridSize;c++)grid[r][c]="";}

function placeWord(word){
    let placed=false;
    while(!placed){
        let dir=Math.floor(Math.random()*2);
        let row=Math.floor(Math.random()*gridSize);
        let col=Math.floor(Math.random()*gridSize);
        if(dir===0&&col+word.length<=gridSize){
            if([...Array(word.length).keys()].every(i=>grid[row][col+i]===""||grid[row][col+i]===word[i])){
                for(let i=0;i<word.length;i++)grid[row][col+i]=word[i];
                placed=true;
            }
        }
        if(dir===1&&row+word.length<=gridSize){
            if([...Array(word.length).keys()].every(i=>grid[row+i][col]===""||grid[row+i][col]===word[i])){
                for(let i=0;i<word.length;i++)grid[row+i][col]=word[i];
                placed=true;
            }
        }
    }
}

function fillGrid(){for(let r=0;r<gridSize;r++)for(let c=0;c<gridSize;c++)if(grid[r][c]==="")grid[r][c]=randomLetter();}

function renderWordsList(){wordsListElement.innerHTML=currentWords.map(w=>`<div id="word-${w}">${w}</div>`).join("");}

function renderGrid(){
    gridElement.innerHTML="";
    for(let r=0;r<gridSize;r++){
        for(let c=0;c<gridSize;c++){
            const cell=document.createElement("div");
            cell.classList.add("cell");
            cell.textContent=grid[r][c];
            cell.dataset.row=r;
            cell.dataset.col=c;
            cell.onclick=()=>selectCell(cell);
            gridElement.appendChild(cell);
        }
    }
}

// On click
function selectCell(cell){
    cell.classList.toggle("highlight");
    if(cell.classList.contains("highlight")) selectedCells.push(cell);
    else selectedCells=selectedCells.filter(c=>c!==cell);
    checkWordFound();
}

// Check for selected word
function checkWordFound(){
    let letters=selectedCells.map(c=>c.textContent).join("");
    let reversed=letters.split("").reverse().join("");
    for(let word of currentWords){
        if(!foundWords.includes(word)&&(letters===word||reversed===word)){
            markWordFound(word);
        }
    }
}

// Always highlight fully
function markWordFound(word){
    foundWords.push(word);
    highlightWordInGrid(word);
    selectedCells.forEach(c=>c.classList.remove("highlight"));
    selectedCells=[];
    const elem=document.getElementById(`word-${word}`);
    elem.style.textDecoration="line-through";
    elem.style.color="lime";
    if(foundWords.length===currentWords.length) setTimeout(nextLevel,1000);
}

// SEARCH GRID FULLY TO HIGHLIGHT WORD (horizontal & vertical)
function highlightWordInGrid(word){
    const directions=[[1,0],[0,1],[-1,0],[0,-1]]; // horizontal & vertical
    const reversed=word.split("").reverse().join("");
    for(let r=0;r<gridSize;r++){
        for(let c=0;c<gridSize;c++){
            for(let [dx,dy] of directions){
                let letters="",cells=[];
                for(let i=0;i<word.length;i++){
                    let nr=r+i*dy,nc=c+i*dx;
                    if(nr<0||nr>=gridSize||nc<0||nc>=gridSize)break;
                    letters+=grid[nr][nc];
                    cells.push(document.querySelector(`.cell[data-row='${nr}'][data-col='${nc}']`));
                }
                if(letters===word||letters===reversed) cells.forEach(cell=>cell.classList.add("found"));
            }
        }
    }
}

function nextLevel(){level++; startGame();}

function startGame(){
    clearGrid();
    generateLevelWords();
    currentWords.forEach(placeWord);
    fillGrid();
    renderWordsList();
    renderGrid();
}

startGame();
</script>

</body>
</html>