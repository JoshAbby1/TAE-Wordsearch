<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background: #777;
        position: relative;
        overflow-x: hidden;
        height: 100vh;
    }

    body::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image:
            radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%),
            radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%),
            radial-gradient(circle, rgba(255,255,0,0.45) 0%, rgba(255,255,0,0) 70%);
        background-size: 400px 400px, 300px 300px, 350px 350px;
        background-position: 10% 20%, 70% 60%, 40% 85%;
        background-repeat: no-repeat;
        z-index: -1;
    }

    h1 {
        text-align: center;
        margin-top: 20px;
        font-size: 32px;
        color: white;
        text-shadow: 1px 1px 2px black;
    }

    .sub {
        text-align: center;
        margin-top: -8px;
        font-size: 14px;
        color: white;
        opacity: .8;
    }

    #wordsList {
        text-align: center;
        font-size: 20px;
        margin: 20px 0;
        color: white;
        font-weight: bold;
    }

    #gameContainer {
        display: flex;
        justify-content: center;
        width: 100%;
    }

    #grid {
        display: grid;
        grid-template-columns: repeat(12, 32px);
        grid-template-rows: repeat(12, 32px);
        gap: 2px;
        background: white;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 0 10px black;
    }

    .cell {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 20px;
        background: #eee;
        border-radius: 4px;
        user-select: none;
        cursor: pointer;
    }

    .highlight {
        background: yellow;
        color: black;
    }

    .found {
        background: lime;
        color: black;
    }
</style>

</head>
<body>

<h1>WORD SEARCH</h1>
<p class="sub">made by @nortydigitalcrew</p>

<div id="wordsList"></div>

<div id="gameContainer">
    <div id="grid"></div>
</div>

<script>
let gridSize = 12;
let level = 1;

let wordsByLevel = {
    1: ["DOG", "SUN", "CAR", "HAT"],
    2: ["PLANT", "SHIRT", "BRUSH", "STONE"],
    3: ["DINOSAUR", "NOTEBOOK", "SANDWICH", "BACKPACK"],
    4: ["PLAYGROUND", "AEROPLANE", "WATERMELON", "CELEBRATION"]
};

let words = [];
let grid = [];
let selectedCells = [];

const gridElement = document.getElementById("grid");
const wordsListElement = document.getElementById("wordsList");

function randomLetter() {
    const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    return letters[Math.floor(Math.random() * letters.length)];
}

function chooseWords() {
    words = wordsByLevel[level] || wordsByLevel[4];
}

function blankGrid() {
    grid = [];
    for (let i = 0; i < gridSize; i++) {
        grid[i] = [];
        for (let j = 0; j < gridSize; j++) {
            grid[i][j] = "";
        }
    }
}

function placeWord(word) {
    let placed = false;

    while (!placed) {
        let dir = Math.floor(Math.random() * 2); // 0 = horizontal, 1 = vertical
        let row = Math.floor(Math.random() * gridSize);
        let col = Math.floor(Math.random() * gridSize);

        if (dir === 0 && col + word.length <= gridSize) {
            // Check if empty
            let canPlace = true;
            for (let i = 0; i < word.length; i++) {
                if (grid[row][col+i] !== "" && grid[row][col+i] !== word[i]) canPlace = false;
            }
            if (!canPlace) continue;
            for (let i = 0; i < word.length; i++) grid[row][col+i] = word[i];
            placed = true;
        }

        if (dir === 1 && row + word.length <= gridSize) {
            let canPlace = true;
            for (let i = 0; i < word.length; i++) {
                if (grid[row+i][col] !== "" && grid[row+i][col] !== word[i]) canPlace = false;
            }
            if (!canPlace) continue;
            for (let i = 0; i < word.length; i++) grid[row+i][col] = word[i];
            placed = true;
        }
    }
}

function placeAllWords() {
    for (let word of words) {
        placeWord(word);
    }

    // Fill empty spaces with random letters
    for (let r = 0; r < gridSize; r++) {
        for (let c = 0; c < gridSize; c++) {
            if (grid[r][c] === "") grid[r][c] = randomLetter();
        }
    }
}

function renderWordsList() {
    wordsListElement.innerHTML = words.map(w => `<div id="word-${w}">${w}</div>`).join("");
}

function renderGrid() {
    gridElement.innerHTML = "";
    for (let r = 0; r < gridSize; r++) {
        for (let c = 0; c < gridSize; c++) {
            let cell = document.createElement("div");
            cell.classList.add("cell");
            cell.textContent = grid[r][c];
            cell.dataset.row = r;
            cell.dataset.col = c;
            cell.onclick = () => selectCell(cell);
            gridElement.appendChild(cell);
        }
    }
}

function selectCell(cell) {
    cell.classList.toggle("highlight");

    if (cell.classList.contains("highlight")) {
        selectedCells.push(cell);
    } else {
        selectedCells = selectedCells.filter(c => c !== cell);
    }

    checkWordFound();
}

function checkWordFound() {
    let letters = selectedCells.map(c => c.textContent).join("");
    let reversed = letters.split("").reverse().join("");

    for (let word of words) {
        if (letters === word || reversed === word) {
            markWordFound(word);
        }
    }
}

function markWordFound(word) {
    selectedCells.forEach(c => c.classList.add("found"));
    selectedCells.forEach(c => c.classList.remove("highlight"));
    selectedCells = [];

    document.getElementById(`word-${word}`).style.textDecoration = "line-through";
    document.getElementById(`word-${word}`).style.color = "lime";

    // Check if all words done
    let allDone = words.every(w =>
        document.getElementById(`word-${w}`).style.textDecoration === "line-through"
    );

    if (allDone) {
        setTimeout(nextLevel, 1000);
    }
}

function nextLevel() {
    level++;
    if (level > 4) level = 1;
    startGame();
}

function startGame() {
    chooseWords();
    renderWordsList();
    blankGrid();
    placeAllWords();
    renderGrid();
}

startGame();
</script>

</body>
</html>